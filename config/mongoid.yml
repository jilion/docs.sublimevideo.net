development:
  sessions:
    default:
      database: sv-docs-dev
      # Provides the hosts the default session can connect to. Must be an array
      # of host:port pairs. (required)
      hosts:
        - localhost:27017
      options:
        # Change the default consistency model to :eventual or :strong.
        # :eventual will send reads to secondaries, :strong sends everything
        # to master. (default: :eventual)
        consistency: :eventual
  # Configure Mongoid specific options. (optional)
  options:
    # User Active Support's time zone in conversions. (default: true)
    use_activesupport_time_zone: false

    # Ensure all times are UTC in the app side. (default: false)
    use_utc: true

test:
  sessions:
    default:
      database: sv-docs-test
      hosts:
        - localhost:27017
      options:
        consistency: :eventual
  options:
    use_activesupport_time_zone: false
    use_utc: true

staging:
  sessions:
    default:
      database: app3367780
      username: <%= ENV['MONGOHQ_USERNAME'] %>
      password: <%= ENV['MONGOHQ_PASSWORD'] %>
      hosts:
        - alex.mongohq.com:10042
      options:
        consistency: :strong
        op_timeout: 30
        connect_timeout: 30
        pool_size: 10
  options:
    preload_models: true
    use_utc: true
    skip_version_check: true

production:
<% if ARGV.join.include? 'assets:precompile' %>
  sessions:
    default:
      database: app3367763
      hosts:
        - localhost:10040
  options:
    preload_models: false
<% else %>
  sessions:
    default:
      database: app3367763
      username: <%= ENV['MONGOHQ_USERNAME'] %>
      password: <%= ENV['MONGOHQ_PASSWORD'] %>
      hosts:
        - alex.mongohq.com:10040
      options:
        consistency: :strong
        op_timeout: 30
        connect_timeout: 30
        pool_size: 10
  options:
    preload_models: true
    use_utc: true
    skip_version_check: true
<% end %>
